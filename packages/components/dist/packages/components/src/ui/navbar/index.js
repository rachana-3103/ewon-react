import{__assign as e}from"../../../../../node_modules/tslib/tslib.es6.js";import{jsx as r,jsxs as n}from"react/jsx-runtime";import{useCallback as o}from"react";import{getSiblings as t}from"@doar/shared/methods";import{useClickOutside as u}from"@doar/shared/hooks";import{StyledNavbar as l,StyledNavitem as m,StyledNavlink as a}from"./style.js";import s from"./submenu.js";import i from"./megamenu.js";var c=function(c){var f=c.menus,d=o((function(){var e=document.querySelector(".navbar"),r=null==e?void 0:e.querySelectorAll(".submenu");null==r||r.forEach((function(e){return e.classList.remove("open")}))}),[]),p=u(d);return r(l,e({ref:p,className:"navbar"},{children:f&&f.map((function(o){var u=o.submenu,l=o.megamenu,c=o.id,f=o.Icon,d=o.label,p=!!(null==u?void 0:u.length),v=!!(null==l?void 0:l.length),h=p||v;return n(m,e({$hasSubmenu:h,onClick:function(e){return function(e,r){if(r){e.preventDefault();var n=e.currentTarget;"A"===n.nodeName&&(n=n.parentElement);var o=n.querySelector(".submenu"),u=t(n);null==o||o.classList.toggle("open"),u.forEach((function(e){e.childNodes.forEach((function(e){var r;null===(r=null==e?void 0:e.classList)||void 0===r||r.remove("open")}))}))}}(e,h)}},{children:[n(a,e({path:h?"#!":o.url},{children:[f&&r(f,{}),d]})),u&&r(s,{menu:u}),l&&r(i,{menu:l})]}),c)}))}))};c.defaultProps={menus:[]};export{c as default};
